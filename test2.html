<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Parent page</title>
</head>
<body>
  <h1>Parent page</h1>
  <iframe src="https://stagepodbor.upec.pro/partner/build" width="600" height="300"></iframe>

  <script>
    const iframe = document.querySelector("iframe");
    // ĞšĞ¾Ğ³Ğ´Ğ° iframe Ğ·Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ğ»ÑÑ, ÑˆĞ»Ñ‘Ğ¼ ĞµĞ¼Ñƒ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ
    iframe.addEventListener("load", () => {
      iframe.contentWindow.postMessage(
        {
          type: "init",
          parentUrl: window.location.href, // URL Ğ¿Ğ°Ñ€Ñ‚Ğ½Ñ‘Ñ€ÑĞºĞ¾Ğ¹ ÑÑ‚Ñ€Ğ°Ğ½Ğ¸Ñ†Ñ‹
          referrer: document.referrer,     // Ğ¼Ğ¾Ğ¶Ğ½Ğ¾ ĞµÑ‰Ñ‘ Ñ€ĞµÑ„ĞµÑ€ĞµÑ€
        },
        "*"
      );
    });

    // Ğ¡Ğ»ÑƒÑˆĞ°ĞµĞ¼ Ğ¾Ñ‚Ğ²ĞµÑ‚Ñ‹ Ğ¸Ğ· iframe (ĞµÑĞ»Ğ¸ Ğ½ÑƒĞ¶Ğ½Ğ¾)
    window.addEventListener("message", (e) => {
      console.log("ğŸ“¨ Parent got message:", e.data);
    });
  </script>
</body>
</html>
